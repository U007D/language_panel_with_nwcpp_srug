# Directions
#
#   make [all]  - makes everything.
#   make TARGET - makes the given target.
#   make clean  - removes all files generated by make.


# Where to find user code.
USER_DIR=.

# Flags passed to the C compiler.
CFLAGS += -g -Wall -Wextra -pthread

# compiler to use for C++
C=/usr/bin/clang

BINARIES = LocksAndMemory

# House-keeping build targets.

all : $(BINARIES)

clean :
	rm -f $(BINARIES) *.o

locks_and_memory.o : $(USER_DIR)/locks_and_memory.c $(GTEST_HEADERS)
	$(C) $(CFLAGS) -c $(USER_DIR)/locks_and_memory.c

LocksAndMemory : locks_and_memory.o
	$(C) $(CFLAGS) -lpthread $^ -o $@
